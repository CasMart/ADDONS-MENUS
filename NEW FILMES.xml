<?xml version="1.0" encoding="utf-8" standalone="yes"?>
import sys
import os
import urllib
import xbmc
import xbmcgui
import xbmcplugin
import xbmcaddon
import logging
from operator import itemgetter

def show_tags():
  tag_handle = int(sys.argv[1])
  xbmcplugin.setContent(tag_handle, 'tags')

  for tag in tags:
    iconPath = os.path.join(home, 'logos', tag['icon'])
    li = xbmcgui.ListItem(tag['name'], iconImage=iconPath)
    url = sys.argv[0] + '?tag=' + str(tag['id'])
    xbmcplugin.addDirectoryItem(handle=tag_handle, url=url, listitem=li, isFolder=True)

  xbmcplugin.endOfDirectory(tag_handle)


def show_streams(tag):
  stream_handle = int(sys.argv[1])
  xbmcplugin.setContent(stream_handle, 'streams')
  logging.warning('TAG show_streams!!!! %s', tag)
  for stream in streams[str(tag)]:
    logging.debug('STREAM HERE!!! %s', stream['name'])
    iconPath = os.path.join(home, 'logos', stream['icon'])
    li = xbmcgui.ListItem(stream['name'], iconImage=iconPath)
    xbmcplugin.addDirectoryItem(handle=stream_handle, url=stream['url'], listitem=li)

  xbmcplugin.endOfDirectory(stream_handle)


def get_params():
  """
  Retrieves the current existing parameters from XBMC.
  """
  param = []
  paramstring = sys.argv[2]
  if len(paramstring) >= 2:
    params = sys.argv[2]
    cleanedparams = params.replace('?', '')
    if params[len(params) - 1] == '/':
      params = params[0:len(params) - 2]
    pairsofparams = cleanedparams.split('&')
    param = {}
    for i in range(len(pairsofparams)):
      splitparams = {}
      splitparams = pairsofparams[i].split('=')
      if (len(splitparams)) == 2:
        param[splitparams[0]] = splitparams[1]
  return param


def lower_getter(field):
  def _getter(obj):
    return obj[field].lower()

  return _getter


addon = xbmcaddon.Addon()
home = xbmc.translatePath(addon.getAddonInfo('path'))

tags = [
  {
    'name': 'Live TV',
    'id': 'LiveTV',
    'icon': 'livetv.png'
  }, {
    'name': 'Movies',
    'id': 'Movies',
    'icon': 'ukmovies.png'
  }
]


LiveTV = [{
  'name': 'US: Voice Clips Usa 1',
  'url': 'http://ipsatpro.com:8000/movie/156/156/2034.mp4',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'US: Voice Clips Usa 2',
  'url': 'http://ipsatpro.com:8000/movie/156/156/2035.mp4',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'US: Voice Clips Usa 3',
  'url': 'http://ipsatpro.com:8000/movie/156/156/2036.mp4',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'US: Voice Clips Usa 4',
  'url': 'http://ipsatpro.com:8000/movie/156/156/2037.mp4',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'US: Voice Clips Usa 5',
  'url': 'http://ipsatpro.com:8000/movie/156/156/2038.mp4',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'US: Voice Clips Usa 6',
  'url': 'http://ipsatpro.com:8000/movie/156/156/2039.mp4',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'US: Voice Clips Usa 7',
  'url': 'http://ipsatpro.com:8000/movie/156/156/2040.mp4',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'US: Voice Clips Usa 8',
  'url': 'http://ipsatpro.com:8000/movie/156/156/2041.mp4',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'US: Voice Clips Usa 9',
  'url': 'http://ipsatpro.com:8000/movie/156/156/2042.mp4',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'US: Voice Clips Usa 10',
  'url': 'http://ipsatpro.com:8000/movie/156/156/2043.mp4',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'US: Voice Clips Usa 11',
  'url': 'http://ipsatpro.com:8000/movie/156/156/2044.mp4',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'US: Voice Clips Usa 12',
  'url': 'http://ipsatpro.com:8000/movie/156/156/2045.mp4',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'US: Voice Clips Usa 13',
  'url': 'http://ipsatpro.com:8000/movie/156/156/2046.mp4',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'US: Voice Clips Usa 14',
  'url': 'http://ipsatpro.com:8000/movie/156/156/2047.mp4',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'US: Voice Clips Usa 15',
  'url': 'http://ipsatpro.com:8000/movie/156/156/2048.mp4',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'US: Voice Clips Usa 16',
  'url': 'http://ipsatpro.com:8000/movie/156/156/2049.mp4',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'US: Voice Clips Usa 17',
  'url': 'http://ipsatpro.com:8000/movie/156/156/2050.mp4',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'US: Voice Clips Usa 18',
  'url': 'http://ipsatpro.com:8000/movie/156/156/2051.mp4',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'US: Voice Clips Usa 19',
  'url': 'http://ipsatpro.com:8000/movie/156/156/2052.mp4',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'US: Voice Clips Usa 20',
  'url': 'http://ipsatpro.com:8000/movie/156/156/2053.mp4',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'US: Voice Clips Usa 21',
  'url': 'http://ipsatpro.com:8000/movie/156/156/2054.mp4',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'US: Voice Clips Usa 22',
  'url': 'http://ipsatpro.com:8000/movie/156/156/2055.mp4',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'US: Voice Clips Usa 23',
  'url': 'http://ipsatpro.com:8000/movie/156/156/2056.mp4',
  'icon': 'uk.png',
  'disabled': False  
}, {
  'name': 'Vevo 2',
  'url': 'http://pro-unibox.com:8000/live/bali/bali/59.ts',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'SHOWTIME HD',
  'url': 'http://185.59.222.49:8000/live/D3KUeZI4CB/oQik1d8k5f/6346.ts',
  'icon': 'uk.png',
  'disabled': False  
}, {
  'name': 'Vevo 3',
  'url': 'http://pro-unibox.com:8000/live/bali/bali/60.ts',
  'icon': 'uk.png',
  'disabled': False  
}, {
  'name': 'ABC',
  'url': 'http://abclive.abcnews.com/i/abc_live4@136330/index_1200_av-b.m3u8?sd=10&b=1200&rebase=on',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'FOX SPORT',
  'url': 'http://46.166.162.35:9090/load/b0922f3fa8aa/58.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'HISTORY 2',
  'url': 'http://46.166.162.35:9090/load/b0922f3fa8aa/36.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'MLB NETWORK',
  'url': 'http://46.166.162.35:9090/load/b0922f3fa8aa/48.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'MLS SOCCER',
  'url': 'http://208.92.36.158/ipad/live/nba_ipad_1240.m3u8',
  'icon': 'uk.png',
  'disabled': False  
}, {
  'name': 'NBA SPORTS',
  'url': 'http://208.92.36.158/ipad/live/nba_ipad_1240.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'NBA TV',
  'url': 'http://46.166.162.35:9090/load/b0922f3fa8aa/47.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'SN',
  'url': 'http://46.166.162.35:9090/load/b0922f3fa8aa/57.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'SNWL',
  'url': 'http://46.166.162.35:9090/load/b0922f3fa8aa/59.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'TS 1',
  'url': 'http://btv-i.akamaihd.net/hls/live/202760/btvusa_ios/P1/M18K.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'TS 3',
  'url': 'http://46.166.162.35:9090/load/b0922f3fa8aa/54.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'TS 4',
  'url': 'http://46.166.162.35:9090/load/b0922f3fa8aa/55.m3u8',
  'icon': 'uk.png',
  'disabled': False  
}, {
  'name': 'CBS News HD',
  'url': 'http://cbsnews-linear.mdialog.com/video_assets/cbsnews.m3u8?api_key=563b80c1ae4ce359830f572d2496a947&iu=/8264/vaw-can/mobile_web/cbsnews_mobile',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'CHICAGO POLICE-live audio feeds',
  'url': 'http://audio4.broadcastify.com/il_chicago_police2.mp3',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'CTV News Live Events Feed 1 HD',
  'url': 'http://ams-lp10.9c9media.com/hls-live/livepkgr/_definst_/liveNews/News18.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'Euronews',
  'url': 'http://fr-par-iphone-2.cdn.hexaglobe.net/streaming/euronews_ewns/ipad_en.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'France24',
  'url': 'http://static.france24.com/live/F24_EN_LO_HLS/live_web.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'NHK World',
  'url': 'http://nhkwglobal-i.akamaihd.net/hls/live/222714/nhkwglobal/index_1180.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'RTE NEWS NOW',
  'url': 'http://wmsrtsp1.rte.ie/live/android.sdp/playlist.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': '360 North Alaska',
  'url': 'http://state.ak.tvwmedia.net:1935/ktoo-live/_definst_/360north/playlist.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'NASA TV HD',
  'url': 'http://nasatv-lh.akamaihd.net/i/NASA_101@319270/master.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': '_International Space Station Live 1',
  'url': 'http://iphone-streaming.ustream.tv/uhls/17074538/streams/live/iphone/playlist.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'International Space Station Live 2',
  'url': 'http://iphone-streaming.ustream.tv/uhls/9408562/streams/live/iphone/playlist.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'H2 USA',
  'url': 'http://fluvod1.giniko.com/all-documentaries/all-documentaries/tracks-5,6/index.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'Hunting Channel',
  'url': 'http://fluvod1.giniko.com/all-hunting/all-hunting/tracks-5,6/index.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'NDR HD',
  'url': 'http://ndr_fs-lh.akamaihd.net/i/ndrfs_nds@119224/master.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': ',AMG',
  'url': 'http://telvuehls_t02027-i.akamaihd.net/hls/live/213119/T02027-amgtv2/playlist_2.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'Arirang',
  'url': 'http://amdlive.ctnd.com.edgesuite.net/arirang_1ch/smil:arirang_1ch.smil/playlist.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'Comedy Central HD',
  'url': 'http://216.31.255.235/hlsl/1/COMEDY/COMEDY.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'E/I',
  'url': 'http://acaooyalahd2-lh.akamaihd.net/i/TBN04_delivery@186242/master.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'FXX HD',
  'url': 'http://216.31.255.235/hlsl/4/FXX/FXX.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'TVA Montreal',
  'url': 'http://tva_chaine_uls-lh.akamaihd.net/i/chaine_tva_1@125892/master.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'PAC 12 National HD',
  'url': 'http://pac12hd2-lh.akamaihd.net/i/p12netw_delivery@132840/master.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'PAC 12 Arizona HD',
  'url': 'http://pac12hd2-lh.akamaihd.net/i/p12ariz_delivery@132836/master.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'PAC 12 Bay Area HD',
  'url': 'http://pac12hd2-lh.akamaihd.net/i/p12baya_delivery@132837/index_2328_av-p.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'PAC 12 Los Angeles HD',
  'url': 'http://pac12hd2-lh.akamaihd.net/i/p12losa_delivery@132838/index_2328_av-p.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'PAC 12 Mountain HD',
  'url': 'http://xrxs.net/video/live-p12moun-4728.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'PAC 12 Oregon HD',
  'url': 'http://pac12hd2-lh.akamaihd.net/i/p12oreg_delivery@132835/master.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'PAC 12 Washington HD',
  'url': 'http://pac12hd2-lh.akamaihd.net/i/p12wash_delivery@132841/master.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'Poker Central',
  'url': 'http://ooyalahd2-f.akamaihd.net/i/crtv01_delivery@329705/master.m3u8',
  'icon': 'uk.png',
  'disabled': False
 }, {
  'name': 'REAL MADRID CHANNEL',
  'url': 'http://rmtvlive-lh.akamaihd.net/i/rmtv_1@154306/index_1000_av-b.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'VERSUS',
  'url': 'http://208.92.36.158/ipad/live/nba_ipad_1240.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'QVC HD',
  'url': 'http://qvclvp2.mmdlive.lldns.net/qvclvp2/9aa645c89c5447a8937537011e8f8d0d/manifest.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'The Shopping Channel HD',
  'url': 'http://tscstreaming-lh.akamaihd.net/i/TSCLiveStreaming_1@91031/index_3_av-p.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'DJING ANIMATION',
  'url': 'http://djing.com/tv/a-05.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'DJING UNDERGROUND',
  'url': 'http://djing.com/tv/u-05.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'HEART TV',
  'url': 'http://ooyalahd2-f.akamaihd.net/i/globalradio02_delivery@156522/index_656_av-b.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': '_m2o TV',
  'url': 'http://m2otv-lh.akamaihd.net/i/m2oTv_1@186074/index_600_av-b.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': '_Spirit Television',
  'url': 'http://cdn.rbm.tv/rightbrainmedia-live-109/_definst_/smil:spirit_all.smil/playlist.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'Dream TV',
  'url': 'http://live.netd.com.tr/S1/HLS_LIVE/dreamtv/1000/prog_index.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'Power Turk',
  'url': 'http://185.28.3.10/powertv/powerturktvh.stream/playlist.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'ABC News',
  'url': 'http://abclive.abcnews.com/i/abc_live4@136330/index_1200_av-b.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'AMG TV',
  'url': 'http://telvuehls_t02027-i.akamaihd.net/hls/live/213119/T02027-amgtv2/playlist_2.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'Bloomberg',
  'url': 'http://cdn3.videos.bloomberg.com/btv/us/master.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'Capital TV',
  'url': 'http://ooyalahd2-f.akamaihd.net/i/globalradio01_delivery@156521/index_656_av-p.m3u8?sd=10&rebase=on',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'CBSN News',
  'url': 'http://cbsnews-linear.mdialog.com/video_assets/cbsnews.m3u8?api_key=563b80c1ae4ce359830f572d2496a947&iu=/8264/vaw-can/mobile_web/cbsnews_mobile',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'Cinestream TV',
  'url': 'http://68.71.42.179/live/livestream1/playlist.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'France24',
  'url': 'http://f24hls-i.akamaihd.net/hls/live/221193/F24_EN_LO_HLS/master_500.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'Heartv',
  'url': 'http://ooyalahd2-f.akamaihd.net/i/globalradio02_delivery@156522/index_656_av-p.m3u8?sd=10&rebase=on',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'HSN 1',
  'url': 'http://hsn.mpl.miisolutions.net:1935/hsn-live01/_definst_/mp4:420p500kB31/mp4:420p500kB31.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'London Live',
  'url': 'http://bcoveliveios-i.akamaihd.net/hls/live/217434/3083279840001/master_900.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'Mystery Science Theater 3000',
  'url': 'http://goo.gl/B2UPYd',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'NASA TV',
  'url': 'http://nasatv-lh.akamaihd.net/i/NASA_101@319270/master.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'NHK World',
  'url': 'http://web-cache.stream.ne.jp/www11/nhkworld-tv/global/222714/live.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'PAC-12 Net. (Arizona)',
  'url': 'http://xrxs.net/video/live-p12ariz-4728.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'PAC-12 Net. (Bay Area)',
  'url': 'http://xrxs.net/video/live-p12baya-4728.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'PAC-12 Net. (Los Angeles)',
  'url': 'http://xrxs.net/video/live-p12losa-4728.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'PAC-12 Net. (Mountain)',
  'url': 'http://xrxs.net/video/live-p12moun-2328.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'PAC-12 Net. (National)',
  'url': 'http://xrxs.net/video/live-p12netw-4728.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'PAC-12 Net. (Oregon)',
  'url': 'http://xrxs.net/video/live-p12oreg-4728.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'PAC-12 Net. (Washington)',
  'url': 'http://xrxs.net/video/live-p12wash-4728.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'Poker Central',
  'url': 'http://ooyalahd2-f.akamaihd.net/i/crtv01_delivery@329705/index_1164_av-b.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'QVC 1',
  'url': 'http://llnw.live.qvc.simplestream.com/hera/remote/qvcuk_primary_sdi5/1/prog_index.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'QVC 2',
  'url': 'http://llnw.live.qvc.simplestream.com/hera/remote/qvcuk_primary_sdi1/1/prog_index.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'QVC Beauty',
  'url': 'http://llnw.live.qvc.simplestream.com/hera/remote/qvcuk_primary_sdi6/1/prog_index.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'QVC Style',
  'url': 'http://llnw.live.qvc.simplestream.com/hera/remote/qvcuk_primary_sdi8/3/prog_index.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'Smile of a Child',
  'url': 'http://acaooyalahd2-lh.akamaihd.net/i/TBN04_delivery@186242/master.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'Toonami Aftermath',
  'url': 'http://iphone-streaming.ustream.tv/uhls/19964352/streams/live/iphone/playlist.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'TSC',
  'url': 'http://tscstreaming-lh.akamaihd.net/i/TSCLiveStreaming_1@91031/index_3_av-p.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'Versus',
  'url': 'http://208.92.36.158/ipad/live/nba_ipad_1240.m3u8',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'WGN News Chicago',
  'url': 'http://wgntribune-lh.akamaihd.net/i/WGNPrimary_1@304622/index_350_av-p.m3u8?',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'SkyUKSport3HD',
  'url': 'http://firstiptv.ddns.net:7500/live/akk/akk/857.ts',
  'icon': 'uk.png',
  'disabled': False
}, {
  'name': 'UK-Syfy',
  'url': 'http://firstiptv.ddns.net:7500/live/akk/akk/1069.ts',
  'icon': 'uk.png',
  'disabled': False  
  
}]


Movies = [{
  'name': 'Batman v Superman: Dawn of Justice',
  'url': 'http://ip.cs4ip.com:8000/movie/tactac/tactac/2769.mkv',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'Hunger Games',
  'url': 'http://ip.cs4ip.com:8000/movie/tactac/tactac/2770.mkv',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'Hunger Games2',
  'url': 'http://ip.cs4ip.com:8000/movie/tactac/tactac/2771.mkv',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'Deadpool 4K',
  'url': 'http://ip.cs4ip.com:8000/movie/tactac/tactac/2610.mkv',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'The Revenant',
  'url': 'http://ip.cs4ip.com:8000/movie/tactac/tactac/2576.mkv',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'Stars Wars The Force Awakens',
  'url': 'http://ip.cs4ip.com:8000/movie/tactac/tactac/2581.mkv',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': '007 Spectre',
  'url': 'http://ip.cs4ip.com:8000/movie/tactac/tactac/2582.mkv',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'The Runner',
  'url': 'http://ip.cs4ip.com:8000/movie/tactac/tactac/2578.mkv',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'Deadpool',
  'url': 'http://ip.cs4ip.com:8000/movie/tactac/tactac/2585.mkv',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'Triple 9',
  'url': 'http://ip.cs4ip.com:8000/movie/tactac/tactac/2584.mkv',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'Pandemic',
  'url': 'http://ip.cs4ip.com:8000/movie/tactac/tactac/2591.mkv',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'Skin Trade',
  'url': 'http://ip.cs4ip.com:8000/movie/tactac/tactac/2592.mkv',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'David et Goliath',
  'url': 'http://ip.cs4ip.com:8000/movie/tactac/tactac/2593.mkv',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'Creed',
  'url': 'http://ip.cs4ip.com:8000/movie/tactac/tactac/2579.mkv',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'Gods of egypt 3D',
  'url': 'http://ip.cs4ip.com:8000/movie/tactac/tactac/2580.mkv',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'The Fourth Pyramid',
  'url': 'http://ip.cs4ip.com:8000/movie/tactac/tactac/2590.mkv',
  'icon': 'ukmovies.png',
  'disabled': False

}, {
  'name': 'Precious Cargo',
  'url': 'http://ip.cs4ip.com:8000/movie/tactac/tactac/2589.mkv',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'Ride along 2',
  'url': 'http://ip.cs4ip.com:8000/movie/tactac/tactac/2604.mkv',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': '99 home',
  'url': 'http://ip.cs4ip.com:8000/movie/tactac/tactac/2607.mkv',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'Seul Contre Tous',
  'url': 'http://ip.cs4ip.com:8000/movie/tactac/tactac/2608.mkv',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': '13 Hours',
  'url': 'http://ip.cs4ip.com:8000/movie/tactac/tactac/2606.mkv',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'Our Brand is Crisis',
  'url': 'http://ip.cs4ip.com:8000/movie/tactac/tactac/2603.mkv',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'Kung Fu Panda 3',
  'url': 'http://ip.cs4ip.com:8000/movie/tactac/tactac/2605.mkv',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'Ip Man 3',
  'url': 'http://ip.cs4ip.com:8000/movie/tactac/tactac/2602.mkv',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'Race',
  'url': 'http://ip.cs4ip.com:8000/movie/tactac/tactac/2588.mkv',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'Taxi 3',
  'url': 'http://ip.cs4ip.com:8000/movie/tactac/tactac/2609.mkv',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'Mr Right',
  'url': 'http://ip.cs4ip.com:8000/movie/tactac/tactac/2599.mkv',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'Eddie The Eagle',
  'url': 'http://ip.cs4ip.com:8000/movie/tactac/tactac/2597.mkv',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'i will See You In My Dreams',
  'url': 'http://ip.cs4ip.com:8000/movie/tactac/tactac/2598.mkv',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'Bone Tomahawk',
  'url': 'http://ip.cs4ip.com:8000/movie/tactac/tactac/2594.mkv',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'Legend',
  'url': 'http://ip.cs4ip.com:8000/movie/tactac/tactac/2587.mkv',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'Requiem for a dream',
  'url': 'http://ip.cs4ip.com:8000/movie/tactac/tactac/2802.avi',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'Much Loved',
  'url': 'http://ip.cs4ip.com:8000/movie/tactac/tactac/2586.mkv',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'zootopia',
  'url': 'http://ip.cs4ip.com:8000/movie/tactac/tactac/2577.mkv',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'Boruto : Naruto',
  'url': 'http://ip.cs4ip.com:8000/movie/tactac/tactac/2601.mp4',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'Zoolander 2',
  'url': 'http://37.187.167.137/movie/a/a/3245.mp4',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'We Are Still Here',
  'url': 'http://37.187.167.137/movie/a/a/3260.mp4',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'Visions',
  'url': 'http://37.187.167.137/movie/a/a/3261.mp4',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'The Witch',
  'url': 'http://37.187.167.137/movie/a/a/3244.mp4',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'The Trust',
  'url': 'http://37.187.167.137/movie/a/a/3255.mp4',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'The Invitation',
  'url': 'http://37.187.167.137/movie/a/a/3237.mp4',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'The Huntsman Winters War',
  'url': 'http://37.187.167.137/movie/a/a/3236.mp4',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'The Family Fang',
  'url': 'http://37.187.167.137/movie/a/a/3239.mp4',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'The Diabolical',
  'url': 'http://37.187.167.137/movie/a/a/3259.mp4',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'The Boy',
  'url': 'http://37.187.167.137/movie/a/a/3251.mp4',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'Risen',
  'url': 'http://37.187.167.137/movie/a/a/3249.mp4',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'Ride Along 2',
  'url': 'http://37.187.167.137/movie/a/a/3257.mp4',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'Pride and Prejudice and Zombies',
  'url': 'http://37.187.167.137/movie/a/a/3258.mp4',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'Precious Cargo',
  'url': 'http://37.187.167.137/movie/a/a/3250.mp4',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'Pandemic',
  'url': 'http://37.187.167.137/movie/a/a/3252.mp4',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'Nina',
  'url': 'http://37.187.167.137/movie/a/a/3253.mp4',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'Mojave',
  'url': 'http://37.187.167.137/movie/a/a/3262.mp4',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'Manhattan Night',
  'url': 'http://37.187.167.137/movie/a/a/3238.mp4',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'London Has Fallen',
  'url': 'http://37.187.167.137/movie/a/a/3242.mp4',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'Hyena Road',
  'url': 'http://37.187.167.137/movie/a/a/3246.mp4',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'Hush',
  'url': 'http://37.187.167.137/movie/a/a/3256.mp4',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'High-Rise',
  'url': 'http://37.187.167.137/movie/a/a/3241.mp4',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'Harry Potter 8',
  'url': 'http://37.187.167.137/movie/a/a/3270.mp4',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'Harry Potter 7',
  'url': 'http://37.187.167.137/movie/a/a/3269.mp4',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'Harry Potter 6',
  'url': 'http://37.187.167.137/movie/a/a/3268.mp4',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'Harry Potter 5',
  'url': 'http://37.187.167.137/movie/a/a/3267.mp4',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'Harry Potter 4',
  'url': 'http://37.187.167.137/movie/a/a/3266.mp4',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'Harry Potter 3',
  'url': 'http://37.187.167.137/movie/a/a/3265.mp4',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'Harry Potter 2',
  'url': 'http://37.187.167.137/movie/a/a/3264.mp4',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'Harry Potter 1',
  'url': 'http://37.187.167.137/movie/a/a/3263.mp4',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'Hail Caesar',
  'url': 'http://37.187.167.137/movie/a/a/3247.mp4',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'Gods of Egypt',
  'url': 'http://37.187.167.137/movie/a/a/3240.mp4',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'Dont Grow Up',
  'url': 'http://37.187.167.137/movie/a/a/3254.mp4',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'Deadpool',
  'url': 'http://37.187.167.137/movie/a/a/3248.mp4',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'Choufli Hal 2008 Ep16 A 20',
  'url': 'http://37.187.167.137/movie/a/a/3026.mp4',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': 'ChoufliHall 2008 Ep 1 a 15',
  'url': 'http://37.187.167.137/movie/a/a/3025.mkv',
  'icon': 'ukmovies.png',
  'disabled': False
}, {
  'name': '10 Cloverfield Lane',
  'url': 'http://37.187.167.137/movie/a/a/3243.mp4',
  'icon': 'ukmovies.png',
  'disabled': False  
  
}]


streams = {
  'LiveTV': sorted((i for i in LiveTV if not i.get('disabled', False)), key=lower_getter('name')),
  'Movies': sorted((i for i in Movies if not i.get('disabled', False)), key=lower_getter('name')),
  # 'LiveTV': sorted(LiveTV, key=lower_getter('name')),
  # 'Movies': sorted(Movies, key=lower_getter('name')),
}

PARAMS = get_params()
TAG = None
logging.warning('PARAMS!!!! %s', PARAMS)

try:
  TAG = PARAMS['tag']
except:
  pass

logging.warning('ARGS!!!! sys.argv %s', sys.argv)

if TAG == None:
  show_tags()
else:
  show_streams(TAG)

 
<channels>

</channels><channel>
[COLOR lime] •FILMES HD [/COLOR]
<name>[COLOR lime] •FILMES HD [/COLOR]</name>
<thumbnail>http://i.imgur.com/QBbZPwG.jpg</thumbnail>
<externallink>http://pastebin.com/raw/4s96afhH</externallink>
<fanart>https://goo.gl/6ZD6Sh</fanart>
</channel>


<channels>

</channels><channel>
<name>[COLOR lime] •FILMES SD [/COLOR]</name>
<thumbnail>http://i.imgur.com/QBbZPwG.jpg</thumbnail>
<externallink>https://gist.githubusercontent.com/valeFILME/381b9393472b2310e72d54a4fd5d548e/raw/filme%2520SD</externallink>
<fanart>https://goo.gl/6ZD6Sh</fanart>
</channel>

<channels>

</channels><channel>
<name>[COLOR lime] •SERIES [/COLOR]</name>
<thumbnail>http://i.imgur.com/QBbZPwG.jpg</thumbnail>
<externallink>https://pastebin.com/raw/rHrYuJ4f</externallink>
<fanart>https://goo.gl/6ZD6Sh</fanart>
<info>Nesta paste repleta de conteúdos novos e atualizados SERIES.</info>
</channel>

<channels>

</channels><channel>
<name>[COLOR lime] • FILMES BRASILEIROS|HD [/COLOR]</name>
<thumbnail>http://i.imgur.com/QBbZPwG.jpg</thumbnail>
<externallink>http://pastebin.com/raw/0BFtRbfC</externallink>
<fanart>https://goo.gl/6ZD6Sh</fanart>
</channel>

<channels>

</channels><channel>
<name>[COLOR lime] • ANMACAO|HD [/COLOR]</name>
<thumbnail>http://i.imgur.com/QBbZPwG.jpg</thumbnail>
<externallink>http://pastebin.com/raw/FKRte0N6</externallink>
<fanart>https://goo.gl/6ZD6Sh</fanart>
</channel>


<channels>

</channels><channel>
<name>[COLOR lime] • CURIOSIDADES|DOCUMENTARIOS [/COLOR]</name>
<thumbnail>http://i.imgur.com/QBbZPwG.jpg</thumbnail>
<externallink>http://pastebin.com/raw/MsWBwxr7</externallink>
<fanart>https://goo.gl/6ZD6Sh</fanart>
</channel>



<channels>

</channels><channel>
<name>[COLOR lime] • SERIES DE TV [/COLOR]</name>
<thumbnail>http://i.imgur.com/QBbZPwG.jpg</thumbnail>
<externallink>https://pastebin.com/raw/FgG7YZks</externallink>
<fanart>https://goo.gl/SCGQvC</fanart>
</channel>




